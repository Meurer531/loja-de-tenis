<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loja Online</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="#">Início</a></li>
                <li><a href="#">Produtos</a></li>
                <li>
                    <a href="#" id="cartButton">
                        <img width="30px" height="30px" src="carrinho-de-compras.png" alt="Carrinho de Compras">
                        <span id="cartCount" style="
                            position: absolute;
                            top: 5px;
                            right: 10px;
                            background-color: white;
                            color: black;
                            border-radius: 50%;
                            padding: 2px 6px;
                            font-size: 14px;
                            display: none;">0</span>
                    </a>
                </li>
            </ul>
        </nav>
    </header>
    <main>
        <section class="products">
            <div class="product-card">
                <img src="produto1.jpg" alt="Produto 1">
                <h3>Produto 1</h3>
                <p class="price">R$ 50,00</p>
                <button class="add-to-cart">Adicionar ao Carrinho</button>
            </div>
            <div class="product-card">
                <img src="produto2.jpg" alt="Produto 2">
                <h3>Produto 2</h3>
                <p class="price">R$ 75,00</p>
                <button class="add-to-cart">Adicionar ao Carrinho</button>
            </div>
            <div class="product-card">
                <img src="produto3.jpg" alt="Produto 3">
                <h3>Produto 3</h3>
                <p class="price">R$ 100,00</p>
                <button class="add-to-cart">Adicionar ao Carrinho</button>
            </div>
        </section>
    </main>
    <script>
        let cart = [];

        // Atualizar o contador do carrinho
        function updateCartCount() {
            const cartCountElement = document.getElementById("cartCount");
            cartCountElement.textContent = cart.length;
            cartCountElement.style.display = cart.length > 0 ? "block" : "none";
        }

        // Adicionar produto ao carrinho
        function addToCart(productId, productName, productPrice) {
            cart.push({ id: productId, name: productName, price: productPrice });
            updateCartCount();
            alert(`${productName} foi adicionado ao carrinho!`);
        }

        // Redirecionar para a página do carrinho
        function goToCart() {
            localStorage.setItem("cart", JSON.stringify(cart));
            window.location.href = "cart.html";
        }

        // Inicializar eventos
        document.addEventListener("DOMContentLoaded", () => {
            const buttons = document.querySelectorAll(".add-to-cart");
            buttons.forEach((button, index) => {
                button.addEventListener("click", () => {
                    const card = button.closest(".product-card");
                    const productName = card.querySelector("h3").textContent;
                    const productPrice = card.querySelector(".price").textContent;
                    addToCart(index, productName, productPrice);
                });
            });

            document.getElementById("cartButton").addEventListener("click", goToCart);
            updateCartCount();
        });
    </script>
</body>
</html>
